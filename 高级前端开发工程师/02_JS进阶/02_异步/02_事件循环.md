js使用时间循环来实现单线程非阻塞

我们通常把宿主发起的任务成为宏任务，把js引擎发起的任务称为微任务
- 宏任务
  - setInterval()
  - setTimeout()
- 微任务
  - Promise().then(function(){})
  - new MutationObserver()

先执行同步代码 检查执行微任务队列 再检查执行宏任务队列


- 为什么要设计微任务？
微任务解决了宏任务执行时机不可控的问题