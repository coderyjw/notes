# 1.DNS 是什么？

Domain Network System 域名系统，是互联网的一项服务，是进行域名和对应 ip 地址的转换的服务器


# 2. 域名
  - 顶级、二级、三级、四级...
  - 每层都有对应的服务器 根服务器 顶级域名服务器 权限域名服务器

# 3. 查询方式
  1. 递归查询：A请求B,B一定会给A想要的东西，没有也给他找到 （服务器压力大）
  2. 迭代查询：A请求B,B没有 让A去别的服务器找（服务器压力小）

# 4. 域名缓存
 - 使用缓存保存域名和IP地址的映射
   - 浏览器缓存
   - 操作系统缓存 hosts文件


# 5. 查询过程

  1. 首先搜索浏览器的DNS缓存
  2. 若没命中，就去搜索操作系统的DNS缓存
  3. 若仍然没命中，操作系统将域名发送至本地域名服务器，本地域名服务器递归的查询DNS缓存，查找成功则返回
  4. 若本地域名服务器的 DNS 缓存没有命中，则本地域名服务器向上级域名服务器进行迭代查询
     1. 向根域名服务器请求，返回顶级域名服务器的地址
     2. 向顶级域名服务器请求，返回权限域名服务器的地址
     3. 向权限域名服务器请求，最终获取到ip
  5. 本地域名服务器将得到的ip返回给操作系统，同时自己将 IP 地址缓存起来
  6. 操作系统将 IP 地址返回给浏览器，同时自己也将 IP 地址缓存起
  7. 至此，浏览器就得到了域名对应的 IP 地址，并将 IP 地址缓存起